<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>
<title>View &mdash; MyProject's Libraries</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="podstyle.css" type="text/css" />
</head>
<body><div class="box">
  <h1 class="t1">MyProject's Libraries</h1>
  <table>
    <tr>
      <td class="label">Description</td>
      <td class="cell">manuals and libraries</td>
    </tr>
  </table>
</div>
<div class="path">
  <a href="index.html">MyProject's Libraries</a> &gt; Perl Modules &gt;
  View
</div>
<div>

<a href="src/View.pm">Source</a>

</div>

<div class="pod">


<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a>
    <ul>
      <li><a href="#Class">Class</a></li>
      <li><a href="#Constants">Constants</a></li>
      <li><a href="#Attributes">Attributes</a></li>
      <li><a href="#Constructors">Constructors</a></li>
      <li><a href="#Destructors">Destructors</a></li>
      <li><a href="#Methods">Methods</a></li>
      <li><a href="#Inheritance">Inheritance</a></li>
    </ul>
  </li>
  <li><a href="#COPYRIGHT-AND-LICENCE">COPYRIGHT AND LICENCE</a></li>
  <li><a href="#AUTHORS">AUTHORS</a></li>
  <li><a href="#DISCLAIMER-OF-WARRANTIES">DISCLAIMER OF WARRANTIES</a></li>
  <li><a href="#MAINTAINER">MAINTAINER</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>TView - buffer used by draw methods</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>  use TurboVision::Views;
  
  my $buf = TView-&gt;new();
  ...</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p><i>TView</i> is the parent of all visible objects in Turbo Vision.</p>

<p>Generally, you will directly instantiate and use one of the descendants:</p>

<p><i>TBackground</i>, <i>TButton</i>, <i>TCluster</i>, <i>TFrame</i>, <i>TGroup</i>, <i>THistory</i>, <i>TInputLine</i>, <i>TListViewer</i>, <i>TMenuView</i>, <i>TStatusLine</i>, <i>TStatusText</i>, and their respective descendants.</p>

<p>See the descriptions for objects listed above.</p>

<p><b>Commonly Used Features</b></p>

<p><i>TView</i> provides much of the functionality of all visible objects in Turbo Vision.</p>

<p>As a consequence, <i>TView</i> has the most methods of any Turbo Vision object.</p>

<p>While many of the methods are primarly used internally and to create new descendant-type objects, most applications will encounter at least the following <i>TView</i> methods:</p>

<p><i>grow_mode</i>, <i>drag_mode</i>, <i>help_ctx</i>, <i>state</i>, <i>options</i> and <i>event_mask</i>.</p>

<p>Commonly used methods include <i>block_cursor</i>, <i>clear_event</i>, <i>command_enabled</i>, <i>data_size</i>, <i>disable_commands</i>, <i>draw</i>, <i>draw_view</i>, <i>enable_commands</i>, <i>get_color</i>, <i>get_commands</i>, <i>get_help_ctx</i>, <i>get_palette</i>, <i>get_state</i>, <i>hide_cursor</i>, <i>normal_cursor</i>, <i>select</i>, <i>set_commands</i>, <i>set_state</i>, <i>show</i>, <i>show_cursor</i>, <i>valid</i>, <i>write_line</i> and <i>write_str</i>.</p>

<h2 id="Class">Class</h2>

<p>public class <code>TView</code></p>

<p>Turbo Vision Hierarchy.</p>

<pre><code>  TObject
    TView</code></pre>

<h2 id="Constants">Constants</h2>

<dl>

<dt id="public-constant-Object-RView">public constant <code>Object RView</code></dt>
<dd>

<p>Defining a registration record constant for <i>TView</i>.</p>

<p><i>TView</i> is registered with <i>TStreamRec-&gt;register_type(RView)</i>.</p>

</dd>
</dl>

<h2 id="Attributes">Attributes</h2>

<dl>

<dt id="public-readonly-TPoint-cursor">public readonly <code>TPoint cursor</code></dt>
<dd>

<p>Records the position of the display cursor.</p>

</dd>
<dt id="public-Int-drag_mode">public <code>Int drag_mode</code></dt>
<dd>

<p>The bits in <i>drag_mode</i> indicate the view&#39;s dragging characterisitcs when dragged with the mouse.</p>

<p>You must directly set a value to <i>drag_mode</i> using the <i>dmXXXX</i> constants.</p>

<p>See: <i>dmXXXX</i> constants for more information on these settings.</p>

</dd>
<dt id="public-Int-event_mask">public <code>Int event_mask</code></dt>
<dd>

<p>Set <i>event_mask</i> to mask off or on the classes of messages that are accepted for processing by this view.</p>

<p>A value of <code>0xffff</code> means that the view will accept all messages.</p>

<p>You set <i>event_mask</i>to a combination of the <i>evXXXX</i> constants.</p>

<p>See: <i>evXXXX</i> constants</p>

</dd>
<dt id="public-Int-grow_mode">public <code>Int grow_mode</code></dt>
<dd>

<p>The bit settings in <i>grow_mode</i> indicate how the view will change shape when it is resized.</p>

<p>You must explicitly assign values to <i>grow_mode</i>.</p>

<p>See: <i>gfXXXX</i> constants for more information on these bit settings.</p>

</dd>
<dt id="public-Int-help_ctx">public <code>Int help_ctx</code></dt>
<dd>

<p>Holds the view&#39;s help context setting.</p>

<p>You must explicitly store a value here unless there is no help, in which case <i>help_ctx</i> will have a default of <i>HC_NO_CONTEXT</i>.</p>

</dd>
<dt id="public-readonly-TView-Undef-next">public readonly <code>TView|Undef next</code></dt>
<dd>

<p><i>next</i> maintains a circular list pointing to the next view, in Z-order.</p>

</dd>
<dt id="public-Int-options">public <code>Int options</code></dt>
<dd>

<p>Set <i>options</i> to determine event processing order (<i>OF_PRE_PROCESS</i>, <i>OF_POST_PROCESS</i>) and to set other attributes defined by the <i>ofXXXX</i> constants.</p>

</dd>
<dt id="public-readonly-TPoint-origin">public readonly <code>TPoint origin</code></dt>
<dd>

<p>Describes the upper left corner of the view.</p>

</dd>
<dt id="public-readonly-TGroup-Undef-owner">public readonly <code>TGroup|Undef owner</code></dt>
<dd>

<p>Points to the <i>TGroup</i> that owns this view.</p>

</dd>
<dt id="public-readonly-TPoint-size">public readonly <code>TPoint size</code></dt>
<dd>

<p>Contains the size of the view.</p>

</dd>
<dt id="public-readonly-Int-state">public readonly <code>Int state</code></dt>
<dd>

<p>The <i>state</i> bits retain information about many view options, including the cursor shape, if the cursor is visible or if the view is selected.</p>

<p>See: <i>sfXXXX</i> constants, <i>TView-&gt;set_state</i>, <i>TView-&gt;get_state</i></p>

</dd>
</dl>

<h2 id="Constructors">Constructors</h2>

<dl>

<dt id="public-TView-init-TRect-bounds">public <code>TView-&gt;init(TRect $bounds)</code></dt>
<dd>

<p>Creates an initializes a <i>TView</i> object and places it according to the Bounds parameter.</p>

<p>You may wish to directly assign values other than defaults, to <i>state</i>, <i>options</i>, <i>event_mask</i>, <i>grow_mode</i> and <i>drag_mode</i>.</p>

</dd>
<dt id="public-TView-load-TStream-s">public <code>TView-&gt;load(TStream $s)</code></dt>
<dd>

<p>Creates and reads a view from stream <i>$s</i>.</p>

</dd>
</dl>

<h2 id="Destructors">Destructors</h2>

<dl>

<dt id="public-DEMOLISH">public <code>DEMOLISH()</code></dt>
<dd>

<p>Deletes the view after erasing it from the screen.</p>

</dd>
</dl>

<h2 id="Methods">Methods</h2>

<dl>

<dt id="public-block_cursor">public <code>block_cursor()</code></dt>
<dd>

<p>Changes the cursor to the solid block cursor by setting the <i>SF_CURSOR_INS</i> bit in the <i>state</i> attribute.</p>

<p>See: <i>TView-</i>normal_cursor&gt;</p>

</dd>
<dt id="public-calc_bounds-TRect-bounds-TPoint-delta">public <code>calc_bounds(TRect $bounds, TPoint $delta)</code></dt>
<dd>

<p><i>calc_bounds</i> is used internally to resize and shape this view in the case that the <i>owner</i>&#39;s view was changed in size.</p>

</dd>
<dt id="public-change_bounds-TRect-bounds">public <code>change_bounds(TRect $bounds)</code></dt>
<dd>

<p>This internal procedure repositions the view.</p>

</dd>
<dt id="public-clear_event-TEvent-event">public <code>clear_event(TEvent $event)</code></dt>
<dd>

<p>In your <i>handle_event</i> methods or overridden <i>handle_event</i> methods, whenever you have finished processing an event, you must signal that the event is finished by calling <i>clear_event</i>, which sets <i>$event-&gt;what( EV_NOTHING )</i>; and <i>$event-&gt;info_ptr( $self )</i> so that other views can determine who it was that process the event.</p>

</dd>
<dt id="public-Bool-command_enabled-Int-command">public <code>Bool command_enabled(Int $command)</code></dt>
<dd>

<p>Use <i>command_enabled</i> to check if a specific command is currently enabled or allowed.</p>

<p>Pass the <i>cmXXXX</i> value as the <i>$command</i> parameter and <i>command_enabled</i> will return True if the command is available now, or False if the command has been disabled.</p>

</dd>
<dt id="public-Int-data_size">public <code>Int data_size()</code></dt>
<dd>

<p>Used in conjunction with <i>get_data</i> and <i>set_data</i> to copy the views data to and from a data record.</p>

<p>See: <i>get_data</i>, <i>set_data</i></p>

</dd>
<dt id="public-disable_commands-TCommandSet-commands">public <code>disable_commands(TCommandSet $commands)</code></dt>
<dd>

<p>&lt;$commands&gt; is a array reference containing a set of commands, specified by their <i>cmXXXX</i> constant values, to be disabled.</p>

<p>Calling <i>disable_commands</i> causes these <i>$commands</i> to become greyed out on the menus and status line.</p>

<p>See: <i>TView-&gt;enable_commands</i></p>

</dd>
<dt id="public-drag_view-TEvent-event-Int-mode-TRect-limits-TPoint-min_size-TPoint-max_size">public <code>drag_view(TEvent $event, Int $mode, TRect $limits, TPoint $min_size, TPoint $max_size)</code></dt>
<dd>

<p><i>drag_view</i> handles redrawing the view while it is being dragged across the string.</p>

<p><i>$limits</i> defines the rectangle in which the view can be dragged, and <i>min_size</i> and <i>max_size</i> set the minimum and maximum sizes to which the view can be resized.</p>

</dd>
<dt id="public-draw">public <code>draw()</code></dt>
<dd>

<p>The <i>draw</i> method is the only method that should write data to the view&#39;s screen area.</p>

<p>Any view that you create, including descendants such as <i>TWindow</i> or <i>TApplication</i>, must override the <i>draw</i> method in order to display their output on the screen.</p>

<p>Generally, your <i>draw</i> method must keep track of where the screen image is relative to its internal data structure.</p>

<p>For example, if your code implements a text editor, you do not need to draw all 500 lines that are in the current file.</p>

<p>Instead, <i>draw</i> would update only the lines that are actually visible.</p>

<p>Sometimes you do not need to redraw the entire view because, perhaps, only a portion of the screen was overwritten by another view such as a dialog.</p>

<p>Call <i>get_clip_rect</i> to fetch the coordinates of the minimum area that needs updating.</p>

<p>The use of <i>get_clip_rect</i> can noticeably improve performance by minimizing the amount of time spent updating the screen.</p>

<p>See: <i>TView-&gt;draw_view</i>, <i>TView-&gt;get_clip_rect</i></p>

</dd>
<dt id="public-draw_view">public <code>draw_view()</code></dt>
<dd>

<p><i>draw_view</i> is the preferred method to call when you need to update the view.</p>

<p>That&#39;s because <i>draw_view</i> makes a check to determine if the view is exposed (not hidden behind another view) before attempting to call <i>draw</i>.</p>

<p><i>draw</i> doesn&#39;t care if the view is visible since Turbo Vision will automatically clip away text that doesn&#39;t currently appear in a view.</p>

<p>See: <i>TView-&gt;draw</i></p>

</dd>
<dt id="public-enable_commands-TCommandSet-commands">public <code>enable_commands(TCommandSet $commands)</code></dt>
<dd>

<p>&lt;$commands&gt; is a array reference containing a set of commands, specified by their <i>cmXXXX</i> constant values, to be enabled.</p>

<p><i>enable_commands</i> is the inverse of <i>disable_commands</i> and restores commands to an operable state.</p>

<p>See: <i>TView-&gt;enable_commands</i></p>

</dd>
<dt id="public-end_modal-Int-command">public <code>end_modal(Int $command)</code></dt>
<dd>

<p>Used internally in conjunction with <i>exec_view</i> for displaying modal views, such as dialogs, to terminate the modal view.</p>

<p>See: <i>TGroup-&gt;end_modal</i>, <i>TGroup-&gt;execute</i>, <i>TGroup-&gt;exec_view</i></p>

</dd>
<dt id="public-Bool-event_avail">public <code>Bool event_avail()</code></dt>
<dd>

<p>Returns True if an event is available.</p>

</dd>
<dt id="public-Int-execute">public <code>Int execute()</code></dt>
<dd>

<p><i>execute</i> is overridden in <i>TGroup</i> descendants to provide the event loop that makes the view a modal view.</p>

<p>See: <i>TGroup-&gt;end_modal</i>, <i>TGroup-&gt;execute</i>, <i>TGroup-&gt;exec_view</i></p>

</dd>
<dt id="public-Bool-exposed">public <code>Bool exposed()</code></dt>
<dd>

<p>If at least some part of the view can be seen on the screen, then <i>exposed</i> returns True.</p>

<p>If the view is completely hidden, then <i>exposed</i> returns False.</p>

</dd>
<dt id="public-hide">public <code>hide()</code></dt>
<dd>

<p>Hides the view.</p>

<p>See: <i>TView-&gt;show</i></p>

</dd>
<dt id="public-set_state-Int-a_state-Bool-enable">public <code>set_state(Int $a_state, Bool $enable)</code></dt>
<dd>

<p>Use <i>set_state</i> to either set or clear bits in the <i>state</i> variable.</p>

<p>If Enable is True, then the bits specified by <i>$a_state</i> are set, and if <i>$enable</i> is False, then the bits specified by <i>$a_state</i> are cleared.</p>

</dd>
</dl>

<h2 id="Inheritance">Inheritance</h2>

<p>Methods inherited from class <code>Object</code></p>

<pre><code>  new, BUILDARGS, does, DOES, dump, DESTROY</code></pre>

<h1 id="COPYRIGHT-AND-LICENCE">COPYRIGHT AND LICENCE</h1>

<pre><code> This file is part of the port of the Free Vision library.
 Copyright (c) 1996-2000 by Leon de Boer.

 Interface Copyright (c) 1992 Borland International

 The library files are licensed under modified LGPL.

 The creation of subclasses of this LGPL-licensed class is considered to be
 using an interface of a library, in analogy to a function call of a library.
 It is not considered a modification of the original class. Therefore,
 subclasses created in this way are not subject to the obligations that an LGPL
 imposes on licensees.

 POD sections by Ed Mitchell are licensed under modified CC BY-NC-ND.</code></pre>

<h1 id="AUTHORS">AUTHORS</h1>

<ul>

<li><p>1996-1999 by Leon de Boer &lt;ldeboer@attglobal.net&gt;</p>

</li>
<li><p>1992 by Ed Mitchell (Turbo Pascal Reference electronic freeware book)</p>

</li>
</ul>

<h1 id="DISCLAIMER-OF-WARRANTIES">DISCLAIMER OF WARRANTIES</h1>

<pre><code> THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 DEALINGS IN THE SOFTWARE.</code></pre>

<h1 id="MAINTAINER">MAINTAINER</h1>

<ul>

<li><p>2023 by J. Schneider <a href="https://github.com/brickpool/">https://github.com/brickpool/</a></p>

</li>
</ul>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p><i>TObject</i>, <a href="https://github.com/fpc/FPCSource/blob/bdc826cc18a03a833735853c0c91268c992e8592/packages/fv/src/views.pas">views.pas</a></p>

</div><div class="footer">generated by <a href="http://metacpan.org/module/Pod::ProjectDocs">Pod::ProjectDocs</a></div></body></html>

